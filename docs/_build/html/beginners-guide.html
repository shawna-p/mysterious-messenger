

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Beginner’s Guide &mdash; Mysterious Messenger Wiki v3.3.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Git Setup" href="git-setup.html" />
    <link rel="prev" title="Getting Started" href="getting-started.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Mysterious Messenger Wiki
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits-and-acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting-started.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Beginner’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#opening-the-code-in-a-code-editor">Opening the code in a code editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-new-rpy-file">Creating a new .rpy file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-route">Defining the route</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ensuring-the-route-shows-up-in-history">Ensuring the route shows up in History</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-the-new-route">Accessing the New Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-the-introduction">Creating the Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-timeline-items-for-your-route">Defining Timeline Items for your Route</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-first-chatroom">Creating the First Chatroom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-an-expired-chatroom">Creating an Expired Chatroom</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#playing-your-route">Playing Your Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-for-testing-and-debugging">Tips For Testing and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="git-setup.html">Git Setup</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="chatrooms.html">Chatrooms</a></li>
<li class="toctree-l1"><a class="reference internal" href="phone-calls.html">Phone Calls</a></li>
<li class="toctree-l1"><a class="reference internal" href="text-messages.html">Text Messages</a></li>
<li class="toctree-l1"><a class="reference internal" href="story-mode.html">Story Mode (VN)</a></li>
<li class="toctree-l1"><a class="reference internal" href="emails.html">Emails</a></li>
<li class="toctree-l1"><a class="reference internal" href="route-setup.html">Setting up a Route</a></li>
<li class="toctree-l1"><a class="reference internal" href="plot-branches.html">Plot Branches</a></li>
<li class="toctree-l1"><a class="reference internal" href="creating-characters.html">Creating Characters</a></li>
<li class="toctree-l1"><a class="reference internal" href="cg-albums.html">CG Albums</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-does-it-work.html">How does it all work?</a></li>
<li class="toctree-l1"><a class="reference internal" href="miscellaneous.html">Miscellaneous</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Mysterious Messenger Wiki</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Beginner’s Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/beginners-guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="beginner-s-guide">
<span id="beginners-guide"></span><h1>Beginner’s Guide<a class="headerlink" href="#beginner-s-guide" title="Permalink to this headline">¶</a></h1>
<p>If you want to create your own route and some of the technicalities are going over your head, this guide will take you through setting up a new route from start to finish. More specific pages will be referenced throughout. If you already know a bit about the program, you may want to start with <a class="reference internal" href="route-setup.html#setting-up-a-route"><span class="std std-ref">Setting up a Route</span></a> instead.</p>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Navigation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Beginner’s Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#opening-the-code-in-a-code-editor">Opening the code in a code editor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-a-new-rpy-file">Creating a new .rpy file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#defining-the-route">Defining the route</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ensuring-the-route-shows-up-in-history">Ensuring the route shows up in History</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#accessing-the-new-route">Accessing the New Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#creating-the-introduction">Creating the Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#defining-timeline-items-for-your-route">Defining Timeline Items for your Route</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#creating-the-first-chatroom">Creating the First Chatroom</a></li>
<li class="toctree-l3"><a class="reference internal" href="#creating-an-expired-chatroom">Creating an Expired Chatroom</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#playing-your-route">Playing Your Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tips-for-testing-and-debugging">Tips For Testing and Debugging</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps">Next Steps</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>If you’re absolutely new to Ren’Py, I have a tutorial on my website you can follow to get set up with the engine and a code editor: <a class="reference external" href="https://feniksdev.com/getting-started-with-renpy/">Getting Started With Ren’Py</a></p>
<p>You may also consider looking through the <a class="reference external" href="https://www.renpy.org/doc/html/quickstart.html">Ren’Py Quickstart</a></p>
<p>There are instructions in the <code class="docutils literal notranslate"><span class="pre">#information</span></code> channel of the Mysterious Messenger Discord server on how to download the program and assets to get it up and running.</p>
<p>Once you’ve downloaded the program and assets (or created your own replacement assets), the first thing you should do is hit <code class="docutils literal notranslate"><span class="pre">Launch</span></code> from the Ren’Py launcher and play through the Tutorial Day to get a feel for what the program is capable of.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you tried to launch the game before obtaining or creating the assets, be sure to use <strong>Delete Persistent</strong> in the Ren’Py launcher under the <strong>Actions</strong> header.</p>
</div>
<div class="section" id="opening-the-code-in-a-code-editor">
<h3>Opening the code in a code editor<a class="headerlink" href="#opening-the-code-in-a-code-editor" title="Permalink to this headline">¶</a></h3>
<p>Next, you need to create a new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file. This is where you will write the code that will tell Mysterious Messenger how you want your route to be set up. If you have a program to edit code in, such as VS Code or Atom, you should open that program. Otherwise, you can either download an editor online or tell Ren’Py to download it for you.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don’t yet have a code editor, I recommend VS Code, which you can install directly from the Ren’Py launcher. The instructions to do so can be found on my website here: <a class="reference external" href="https://feniksdev.com/getting-started-with-renpy/">Getting Started With Ren’Py</a></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Return</span></code> to the main screen of the Ren’Py launcher. Next, in your file explorer, open the <code class="docutils literal notranslate"><span class="pre">mysterious-messenger/game</span></code> folder. To keep things organized, you should create a new folder here. Call it <code class="docutils literal notranslate"><span class="pre">my_new_route</span></code>.</p>
<p>Now you can open your code editing program and use <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">Open</span> <span class="pre">Folder...</span></code> to navigate to the <code class="docutils literal notranslate"><span class="pre">mysterious-messenger/game/my_new_route</span></code> folder. It’s blank for now, but you will add <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> files to it soon.</p>
</div>
<div class="section" id="creating-a-new-rpy-file">
<h3>Creating a new .rpy file<a class="headerlink" href="#creating-a-new-rpy-file" title="Permalink to this headline">¶</a></h3>
<p>Inside your code editor, you can use <code class="docutils literal notranslate"><span class="pre">File</span> <span class="pre">-&gt;</span> <span class="pre">New</span> <span class="pre">File</span></code>. Name this file <code class="docutils literal notranslate"><span class="pre">my_route.rpy</span></code>. Don’t forget you need to include <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> at the end so the editor and program understand this file contains code for Ren’Py.</p>
</div>
</div>
<div class="section" id="defining-the-route">
<h2>Defining the route<a class="headerlink" href="#defining-the-route" title="Permalink to this headline">¶</a></h2>
<p>Inside your new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file, copy and paste the following code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">my_route_good_end</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Good End&quot;</span><span class="p">,</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;1st&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;2nd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;3rd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;4th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;5th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;6th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;7th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;8th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;9th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;10th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;Final&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>This sets up a variable which is going to contain the information the program needs to understand how to display the route to the player. In particular, this defines the “Good End” of a route. In the history screen, when the player reaches the end of this route the final timeline item will show up under the title “Good End”. This guide only covers how to add one ending, but if you want to learn more you can refer to <a class="reference internal" href="plot-branches.html#plot-branches"><span class="std std-ref">Plot Branches</span></a>.</p>
<p>You can learn more about variables in this series on my website: <a class="reference external" href="https://feniksdev.com/a-quick-primer-on-variables-in-renpy/">A Quick Primer on Variables in Ren’Py</a></p>
<div class="section" id="ensuring-the-route-shows-up-in-history">
<h3>Ensuring the route shows up in History<a class="headerlink" href="#ensuring-the-route-shows-up-in-history" title="Permalink to this headline">¶</a></h3>
<p>The last variable you defined is just for the “Good End” path of a route. You may want multiple endings or paths, perhaps with different characters or to reflect how the player’s choices affected the narrative. This next variable tells the program that the various endings are part of the same “route”. For now, you only have one ending, “Good End”, but you can add more later.</p>
<p>Beneath the code from earlier, copy and paste the following code:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">my_new_route</span> <span class="o">=</span> <span class="n">Route</span><span class="p">(</span>
    <span class="n">default_branch</span><span class="o">=</span><span class="n">my_route_good_end</span><span class="p">,</span>
    <span class="n">branch_list</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">route_history_title</span><span class="o">=</span><span class="s2">&quot;My New&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>This tells the program which endings are associated with this route. <code class="docutils literal notranslate"><span class="pre">route_history_title=&quot;My</span> <span class="pre">New&quot;</span></code> means that in the History screen, this route will be displayed as “My New Route”. The default/longest path (and in this case, the only path) in this route is <code class="docutils literal notranslate"><span class="pre">my_route_good_end</span></code>, and there are no other branches so <code class="docutils literal notranslate"><span class="pre">branch_list=None</span></code> lets the program know there aren’t any other branches. How to add additional branches will be covered later.</p>
</div>
</div>
<div class="section" id="accessing-the-new-route">
<h2>Accessing the New Route<a class="headerlink" href="#accessing-the-new-route" title="Permalink to this headline">¶</a></h2>
<p>Now you need to tell the program to begin your route when the player hits the “Original Story” button from the main menu. To do this, you need to modify the <code class="docutils literal notranslate"><span class="pre">custom_route_select_screen</span></code>, which is found in the file <code class="docutils literal notranslate"><span class="pre">screens_custom_route_select.rpy</span></code>. Open that file in your editor.</p>
<p>The default code for this screen looks like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">custom_route_select_screen</span><span class="p">():</span>
    <span class="k">vbox</span><span class="p">:</span>
        <span class="na">style_prefix</span> <span class="s1">&#39;route_select&#39;</span> <span class="c1"># Remove this if you want your own styles</span>
        <span class="k">button</span><span class="p">:</span>
            <span class="na">ysize</span> <span class="mi">210</span> <span class="c1"># Set the height of the button</span>
            <span class="c1"># The image that goes on the left of the button</span>
            <span class="k">add</span> <span class="s1">&#39;Menu Screens/Main Menu/route_select_tutorial.webp&#39;</span><span class="p">:</span>
                <span class="na">align</span> <span class="p">(</span><span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
            <span class="na">action</span> <span class="n">Start</span><span class="p">()</span>
            <span class="c1"># The box with text on the right side of the button</span>
            <span class="k">frame</span><span class="p">:</span>
                <span class="k">text</span> <span class="s2">&quot;Tutorial Day&quot;</span>
</pre></div>
</div>
<p>The simplest way to modify this is to change the <code class="docutils literal notranslate"><span class="pre">action</span> <span class="pre">Start()</span></code> property for the existing button. Normally this tells the program to begin the game at the <code class="docutils literal notranslate"><span class="pre">start</span></code> label. Modify <code class="docutils literal notranslate"><span class="pre">action</span> <span class="pre">Start()</span></code> to say <code class="docutils literal notranslate"><span class="pre">action</span> <span class="pre">Start(&quot;my_route_introduction&quot;)</span></code>, and change the line <code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">&quot;Tutorial</span> <span class="pre">Day&quot;</span></code> to say <code class="docutils literal notranslate"><span class="pre">text</span> <span class="pre">&quot;My</span> <span class="pre">New</span> <span class="pre">Route&quot;</span></code>. The whole screen will now look like:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">screen</span> <span class="n">custom_route_select_screen</span><span class="p">():</span>
    <span class="k">vbox</span><span class="p">:</span>
        <span class="na">style_prefix</span> <span class="s1">&#39;route_select&#39;</span> <span class="c1"># Remove this if you want your own styles</span>
        <span class="k">button</span><span class="p">:</span>
            <span class="na">ysize</span> <span class="mi">210</span> <span class="c1"># Set the height of the button</span>
            <span class="c1"># The image that goes on the left of the button</span>
            <span class="k">add</span> <span class="s1">&#39;Menu Screens/Main Menu/route_select_tutorial.webp&#39;</span><span class="p">:</span>
                <span class="na">align</span> <span class="p">(</span><span class="mf">0.08</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>
            <span class="na">action</span> <span class="n">Start</span><span class="p">(</span><span class="s2">&quot;my_route_introduction&quot;</span><span class="p">)</span>
            <span class="c1"># The box with text on the right side of the button</span>
            <span class="k">frame</span><span class="p">:</span>
                <span class="k">text</span> <span class="s2">&quot;My New Route&quot;</span>
</pre></div>
</div>
<p>You can also change the image ‘Menu Screens/Main Menu/route_select_tutorial.webp’ to something else, though it’s perfectly fine to leave it as-is for now.</p>
<p>Now you can test out this code in-game. Make sure you’ve saved your file, then open up the Ren’Py launcher again and hit <strong>Launch</strong> to start the game. To see your new route select screen, on the main menu, click the <strong>Developer</strong> button in the bottom right corner, then check off the option titled “Use custom route select screen”. Now when you start a new game and click Original Story, your custom route select screen will be displayed, though you haven’t made an introduction yet so clicking on this button will cause an error.</p>
</div>
<div class="section" id="creating-the-introduction">
<h2>Creating the Introduction<a class="headerlink" href="#creating-the-introduction" title="Permalink to this headline">¶</a></h2>
<p>Now that you’ve got a button to start your new route, you need to write an actual introduction for it. You can close the program again while you’re editing the code and return to your code editor. To keep things organized, create a new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file like you did last time and put it inside your <code class="docutils literal notranslate"><span class="pre">my_new_route</span></code> folder. Call this file <code class="docutils literal notranslate"><span class="pre">my_route_intro.rpy</span></code>.</p>
<p>Now you need to create a label that the program will jump to when the player hits the button on the route select screen from earlier. The action on that button was <code class="docutils literal notranslate"><span class="pre">action</span> <span class="pre">Start(&quot;my_route_introduction&quot;)</span></code>, so this label must be called <code class="docutils literal notranslate"><span class="pre">my_route_introduction</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">my_route_introduction</span><span class="p">():</span>
    <span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">my_new_route</span><span class="p">,</span> <span class="n">participants</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="k">$</span> <span class="n">paraphrase_choices</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="k">scene</span> <span class="n">night</span>
    <span class="k">play</span> <span class="k">music</span> <span class="n">mystic_chat</span>
    <span class="n">enter</span> <span class="n">chatroom</span> <span class="n">u</span>
    <span class="n">u</span> <span class="s2">&quot;This is an example chatroom! You can customize it more later.&quot;</span>
    <span class="n">exit</span> <span class="n">chatroom</span> <span class="n">u</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>This is where the program will jump to when the player selects this route to play. Then there are a few lines of setup, which will be explained below.</p>
<p><code class="docutils literal notranslate"><span class="pre">new_route_setup</span></code> is a special function that sets up the introduction of a route and lets the program know which route it should set up in the timeline. It has two fields:</p>
<dl class="simple">
<dt><cite>route</cite></dt><dd><p>The Route variable defined earlier containing the main path and any branching paths for this route.</p>
</dd>
<dt><cite>participants</cite></dt><dd><p>By default, this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, which means that no one starts in the introductory chatroom. If you would like to have characters start in the chatroom, then you can add them here as a list e.g. <code class="docutils literal notranslate"><span class="pre">participants=[ja,</span> <span class="pre">ju,</span> <span class="pre">s,</span> <span class="pre">y,</span> <span class="pre">z]</span></code> adds the characters ja, ju, s, y, and z to the chatroom initially before the player arrives.</p>
</dd>
</dl>
<p>Next is the line <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">paraphrase_choices</span> <span class="pre">=</span> <span class="pre">False</span></code>. This tells the program that the main character should say the exact dialogue found on the choice buttons after the player has selected that choice. If you want to type out most choice dialogue yourself, then this should be <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">paraphrase_choices</span> <span class="pre">=</span> <span class="pre">True</span></code> instead. Note that you can toggle choice paraphrasing on and off on a per-menu or per-choice basis; see <a class="reference internal" href="miscellaneous.html#paraphrased-choices"><span class="std std-ref">Paraphrased Choices</span></a> for more information. The rest of this tutorial will assume you have <code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">paraphrase_choices</span> <span class="pre">=</span> <span class="pre">False</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">scene</span> <span class="pre">night</span></code> tells the program to set up the <code class="docutils literal notranslate"><span class="pre">night</span></code> background for the chatroom. For more information on backgrounds, see <a class="reference internal" href="chatrooms.html#adding-chatroom-backgrounds"><span class="std std-ref">Adding Chatroom Backgrounds</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">play</span> <span class="pre">music</span> <span class="pre">mystic_chat</span></code> tells the program to play the “mystic_chat” music in the background. This loops automatically. The usual Ren’Py method of playing music has been overwritten to support audio captions, though it supports all the usual features such as fadeout and looping as found in the Ren’Py documentation on audio. For more information, see <a class="reference internal" href="miscellaneous.html#adding-new-audio"><span class="std std-ref">Adding New Audio</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">enter</span> <span class="pre">chatroom</span> <span class="pre">u</span></code> and <code class="docutils literal notranslate"><span class="pre">exit</span> <span class="pre">chatroom</span> <span class="pre">u</span></code> display messages like “Unknown has entered the chatroom.” and “Unknown has left the chatroom.” respectively. For more information on these sorts of functions, see <a class="reference internal" href="chatrooms.html#advanced-chatroom-features"><span class="std std-ref">Advanced Chatroom Features</span></a>.</p>
<p>Finally, all labels including this introductory chatroom should end with <code class="docutils literal notranslate"><span class="pre">return</span></code>. In this case, it will show the Save &amp; Exit button to the player and return them to the game’s home screen.</p>
<p>All of these features and more are covered in <a class="reference internal" href="chatrooms.html#chatrooms-topic"><span class="std std-ref">Chatrooms</span></a>, including how to write dialogue. You’re welcome to expand on this chatroom later with more dialogue.</p>
</div>
<div class="section" id="defining-timeline-items-for-your-route">
<h2>Defining Timeline Items for your Route<a class="headerlink" href="#defining-timeline-items-for-your-route" title="Permalink to this headline">¶</a></h2>
<p>Now that you’ve created an introduction for your route, you need to actually put some content in it. Currently the player can select your route and play the introduction (feel free to test it out!) but there won’t be any chatrooms or Story Mode sections on their timeline screen. You’ll also see an error message informing you that you have no content to your route. It’s time to fix that now.</p>
<p>Return to your file <code class="docutils literal notranslate"><span class="pre">my_route.rpy</span></code>. It should contain the code from earlier:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">my_route_good_end</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Good End&quot;</span><span class="p">,</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;1st&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;2nd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;3rd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;4th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;5th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;6th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;7th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;8th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;9th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;10th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;Final&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>To create your first chatroom, modify the above code so it now looks like the following:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">my_route_good_end</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Good End&quot;</span><span class="p">,</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;1st&#39;</span><span class="p">,</span>
        <span class="p">[</span><span class="n">ChatRoom</span><span class="p">(</span><span class="s2">&quot;Welcome!&quot;</span><span class="p">,</span> <span class="s2">&quot;day_1_chatroom_1&quot;</span><span class="p">,</span> <span class="s1">&#39;00:01&#39;</span><span class="p">)</span>
        <span class="p">]),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;2nd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;3rd&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;4th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;5th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;6th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;7th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;8th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;9th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;10th&#39;</span><span class="p">),</span>
    <span class="n">RouteDay</span><span class="p">(</span><span class="s1">&#39;Final&#39;</span><span class="p">)]</span>
</pre></div>
</div>
<p>The main thing that has changed is the code after <code class="docutils literal notranslate"><span class="pre">RouteDay('1st',</span></code>, which now has something called a <code class="docutils literal notranslate"><span class="pre">ChatRoom</span></code> object. This object holds information that tells the program information like the title of the chatroom (“Welcome!”), the label where the program can find the chatroom (“day_1_chatroom_1”), and the time the chatroom should appear at (“00:01” aka 1 minute past midnight). A typical RouteDay is made up of a list of these items, along with StoryMode and StoryCall objects (for more, see <a class="reference internal" href="route-setup.html#adding-timeline-items"><span class="std std-ref">Adding Timeline Items</span></a>).</p>
<p>Next, you need to define your new chatroom, similar to what you did for the introduction.</p>
<div class="section" id="creating-the-first-chatroom">
<h3>Creating the First Chatroom<a class="headerlink" href="#creating-the-first-chatroom" title="Permalink to this headline">¶</a></h3>
<p>There are two main ways of writing chatroom dialogue. The most flexible way is to write the script for the chatroom yourself in an <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file, described below. If you’re more of a visual person, though, and some of this is going over your head, you might also try the <strong>Chatroom Creator</strong>, which you can access by launching the program and clicking on the <strong>Developer</strong> button on the main menu. See <a class="reference internal" href="chatrooms.html#chatroom-creator"><span class="std std-ref">Chatroom Creator</span></a> for more detailed information on using this. While you will have fewer options to customize the chatroom using the creator as opposed to creating it yourself in code (for example, the chatroom creator cannot make choice menus), you can export your created chatroom as code and modify it further in the generated <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file to customize it to your needs. However, below we’ll explore how you can create chatrooms just from code.</p>
<p>Like before, you should create a new <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> file in order to keep things organized. Call this one <code class="docutils literal notranslate"><span class="pre">day_1_chatroom_1.rpy</span></code>. It doesn’t have to be named the same as the chatroom label, but noting the day and chatroom number of this chatroom will help you keep things organized.</p>
<p>Now you need to define the body of the chatroom. First, make a label with the name you wrote earlier for the <code class="docutils literal notranslate"><span class="pre">ChatRoom</span></code> object, namely <code class="docutils literal notranslate"><span class="pre">day_1_chatroom_1</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_chatroom_1</span><span class="p">():</span>
    <span class="k">scene</span> <span class="n">earlyMorn</span>
    <span class="k">play</span> <span class="k">music</span> <span class="n">mystic_chat</span>
    <span class="n">enter</span> <span class="n">chatroom</span> <span class="n">u</span>

    <span class="n">u</span> <span class="s2">&quot;Congratulations! You&#39;ve created your first chatroom.&quot;</span>

    <span class="k">menu</span><span class="p">:</span>
        <span class="s2">&quot;That&#39;s amazing!&quot;</span><span class="p">:</span>
            <span class="n">u</span> <span class="s2">&quot;Isn&#39;t it? I&#39;m glad you think so.&quot;</span>
        <span class="s2">&quot;This is a lot of work.&quot;</span><span class="p">:</span>
            <span class="n">u</span> <span class="s2">&quot;I&#39;m sure it will get easier with practice!&quot;</span>
            <span class="n">u</span> <span class="s2">&quot;There are plenty of wiki pages to help you out, too.&quot;</span>

    <span class="n">u</span> <span class="s2">&quot;I&#39;m leaving now. Good luck!&quot;</span>
    <span class="n">exit</span> <span class="n">chatroom</span> <span class="n">u</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>This defines a very basic chatroom with the character “Unknown” (<code class="docutils literal notranslate"><span class="pre">u</span></code>). In this particular chatroom, the player is allowed to make a choice, as defined under the <code class="docutils literal notranslate"><span class="pre">menu:</span></code> code. For more on writing chatrooms and creating choices, see <a class="reference internal" href="chatrooms.html#advanced-chatroom-features"><span class="std std-ref">Advanced Chatroom Features</span></a>. There are many more things you can do besides just chatrooms as well, such as having characters send text messages or call the player. For more on those, see the corresponding sections in the documentation.</p>
</div>
<div class="section" id="creating-an-expired-chatroom">
<h3>Creating an Expired Chatroom<a class="headerlink" href="#creating-an-expired-chatroom" title="Permalink to this headline">¶</a></h3>
<p>There’s one last thing you should do before finishing your first chatroom. If the player is playing in real-time, or chooses to exit a chatroom with the back button before they’ve finished viewing it, the chatroom may “expire”. Typically this means the player will then see a version of the chatroom where they don’t get to participate in the conversation.</p>
<p>The program automatically looks for this “expired chatroom” using the name of the original chatroom + the suffix <code class="docutils literal notranslate"><span class="pre">_expired</span></code>. So you should define your expired chatroom label beneath the regular chatroom like so:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">label</span> <span class="n">day_1_chatroom_1_expired</span><span class="p">():</span>
    <span class="k">scene</span> <span class="n">earlyMorn</span>
    <span class="k">play</span> <span class="k">music</span> <span class="n">mystic_chat</span>
    <span class="n">enter</span> <span class="n">chatroom</span> <span class="n">u</span>

    <span class="n">u</span> <span class="s2">&quot;Oh... it appears [name] is not here.&quot;</span>
    <span class="n">u</span> <span class="s2">&quot;Well, I&#39;ll come back later. Bye!&quot;</span>

    <span class="n">exit</span> <span class="n">chatroom</span> <span class="n">u</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>This is the chatroom the player will see if it is expired. It can be as similar or different from the original non-expired chatroom as you like. You may also note the use of <code class="docutils literal notranslate"><span class="pre">[name]</span></code> in the dialogue; this will be replaced with the player’s name as it was entered in the profile screen. There are also variables to handle the player’s pronouns, as players are free to choose one of she/her, he/him, or they/them pronouns at any time. See <a class="reference internal" href="miscellaneous.html#pronoun-integration"><span class="std std-ref">Pronoun Integration</span></a> for more.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In this program, there are also standalone Story Mode and Story Calls. Story Mode sections do not expire, but Story Calls <em>will</em> expire like chatrooms in real-time or if the player hangs up in the middle of a conversation, and should have an <code class="docutils literal notranslate"><span class="pre">_expired</span></code> label as well.</p>
</div>
</div>
</div>
<div class="section" id="playing-your-route">
<h2>Playing Your Route<a class="headerlink" href="#playing-your-route" title="Permalink to this headline">¶</a></h2>
<p>To play your new route, close the program if open and re-launch it after saving all your open <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> files. Select “Settings” from the main menu and then navigate to the “Others” tab and select “Start Over”. Then ensure you have the option titled “Use custom route select screen” checked off in the <strong>Developer</strong> settings button in the bottom right corner of the main menu. Now you can press “Original Story” and click on your new route to play it!</p>
</div>
<div class="section" id="tips-for-testing-and-debugging">
<h2>Tips For Testing and Debugging<a class="headerlink" href="#tips-for-testing-and-debugging" title="Permalink to this headline">¶</a></h2>
<p>When writing a new route, you might run into some error screens from time to time. There are a few steps you can take to help identify the problem:</p>
<ol class="arabic simple">
<li><p>Take a look at the error message. It goes back in what’s called “reverse stack order”, so the lines at the top are typically less related to the problem than the ones lower down. In particular, you should look at the line just before it says “Full Traceback”.</p></li>
<li><p>Usually you will see an error that reads something like <code class="docutils literal notranslate"><span class="pre">NameError:</span> <span class="pre">name</span> <span class="pre">&quot;something&quot;</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">defined</span></code>. The first part is the type of error - in this case, a <code class="docutils literal notranslate"><span class="pre">NameError</span></code>. There are other kinds of errors, like <code class="docutils literal notranslate"><span class="pre">ScriptError</span></code>, <code class="docutils literal notranslate"><span class="pre">AttributeError</span></code>, and more. The next part tells you a bit about the error itself. Sometimes this will be immediately obvious - for example, <code class="docutils literal notranslate"><span class="pre">ScriptError:</span> <span class="pre">could</span> <span class="pre">not</span> <span class="pre">find</span> <span class="pre">label</span> <span class="pre">'myroute_day3_3'</span></code> means that the program can’t find the label <code class="docutils literal notranslate"><span class="pre">myroute_day3_3</span></code>, so either you’ve made a typo somewhere, failed to save the file with the label on it in the right place, or haven’t created the label yet. Other times the error is a bit more obtuse.</p></li>
</ol>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>One of the most common sources of errors is missing commas or incorrect parentheses. If you see an error that looks like <code class="docutils literal notranslate"><span class="pre">TypeError:</span> <span class="pre">string</span> <span class="pre">indices</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">integers</span></code>, be on the lookout for missing commas or parentheses! Unfortunately the error messages for these sorts of mistakes tend to seem unrelated to the missing commas/parentheses, but make sure you take a good look around the lines of code near where the error is detected to rule it out.</p>
</div>
<ol class="arabic simple" start="3">
<li><p>If the error message isn’t particularly clear, the first thing you should usually try is just to quit the game and re-open it. If you’ve been making lots of script changes with the game open, particularly if the game is set to Reload or Auto-Reload, occasionally Ren’Py can’t figure out how to update the script while the game is still open and it crashes. In particular, if you see an error message that looks like <code class="docutils literal notranslate"><span class="pre">Exception:</span> <span class="pre">Couldn't</span> <span class="pre">find</span> <span class="pre">a</span> <span class="pre">place</span> <span class="pre">to</span> <span class="pre">stop</span> <span class="pre">rolling</span> <span class="pre">back.</span> <span class="pre">Perhaps</span> <span class="pre">the</span> <span class="pre">script</span> <span class="pre">changed</span> <span class="pre">in</span> <span class="pre">an</span> <span class="pre">incompatible</span> <span class="pre">way?</span></code>, this is a very common cause of that error. Closing and re-launching the game from scratch will often fix this.</p></li>
<li><p>Another common source of errors is old save games. If you aren’t seeing changes you’ve made, try starting a new game from the settings rather than loading an old save or hitting “Original Story” (which automatically loads a save). You can do this by going to the settings -&gt; Other -&gt; Start Over.</p></li>
<li><p>And of course, be sure you’re saving any changes you make to <code class="docutils literal notranslate"><span class="pre">.rpy</span></code> files in your project! Ren’Py needs to either reload or re-launch a game to see the changes made in any code files.</p></li>
</ol>
<p>If you’re still having trouble, feel free to send a message in the Mysterious Messenger Discord to report a bug!</p>
</div>
<div class="section" id="next-steps">
<h2>Next Steps<a class="headerlink" href="#next-steps" title="Permalink to this headline">¶</a></h2>
<p>If you’d just like to play around with some of the features available in chatrooms, you can check out the Chatroom Creator from the Developer options on the main menu. There is an option to export created chatrooms to code which you can then add into your route like the code used earlier. If you’d like to take advantage of the full set of features Mysterious Messenger offers, this may help you see how to write the code for particular chatroom features.</p>
<p>Since many things in the game build off of chatrooms, you should look at the documentation on <a class="reference internal" href="chatrooms.html#chatrooms-topic"><span class="std std-ref">Chatrooms</span></a>. You should also look at the code for some of the chatrooms and other features included on Tutorial Day, such as <code class="docutils literal notranslate"><span class="pre">tutorial_5_coffee.rpy</span></code> and <code class="docutils literal notranslate"><span class="pre">tutorial_6_meeting.rpy</span></code>, as they have many notes included explaining the various features you will see when you play through those chatrooms.</p>
<p>Once you’re comfortable writing and modifying chatrooms, you can look into adding <a class="reference internal" href="text-messages.html#text-messages"><span class="std std-ref">Text Messages</span></a>, then <a class="reference internal" href="phone-calls.html#phone-calls"><span class="std std-ref">Phone Calls</span></a>, and finally <a class="reference internal" href="emails.html#emails"><span class="std std-ref">Emails</span></a>. You should also look at <a class="reference internal" href="route-setup.html#setting-up-a-route"><span class="std std-ref">Setting up a Route</span></a> for more information on setting up a full route with plot branches and a party. Good luck!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="git-setup.html" class="btn btn-neutral float-right" title="Git Setup" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="getting-started.html" class="btn btn-neutral float-left" title="Getting Started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2022, Shawna P.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>