<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
      <title>Adding or Removing CG Albums</title>
    
      <link rel="stylesheet" href="../_static/pygments.css"/>
      <link rel="stylesheet" href="../_static/theme-light.css"/>
      <link rel="stylesheet" media="(prefers-contrast: high)" href="../_static/theme-light-hc.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark)" href="../_static/theme-dark.css"/>
      <link rel="stylesheet" media="(prefers-color-scheme: dark) and (prefers-contrast: high)" href="../_static/theme-dark-hc.css"/>
      
        <link rel="stylesheet" media="print" href="../_static/theme-print.css"/>
      
      
          <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
      
        
        <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        

        <!-- sphinx script_files -->
          <script src="../_static/jquery.js"></script>
          <script src="../_static/underscore.js"></script>
          <script src="../_static/doctools.js"></script>
          <script src="../_static/language_data.js"></script>

        <script src="../_static/sphinx_nervproject_theme.js" defer></script>
      
    
  <link rel="index" title="Index" href="../genindex.html" />
  <link rel="search" title="Search" href="../search.html" />
   
  

  </head>

  <body>
    <div id="app" class="theme-container"><header class="navbar">
    <div id="header-identity" class="print-only">
        <img id="navbar_logo" src="../_static/"/>
        <div id="navbar_title">Mysterious Messenger Wiki</div>
    </div>

  
  <button class="sidebar-button">
      <svg id="sidebar-button-svg" role="img" aria-labelledby="sidebar-button_label" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <title id="sidebar-button_label">
              Toggle sidebar
          </title>
          <use xlink:href="../_static/fa/solid.svg#bars"></use>
      </svg>
  </button>

  <a href="../index.html" class="home-link">
      <span class="site-name">Mysterious Messenger Wiki</span>
  </a>

  <div class="links">
    <div class="nav-links can-hide">

  <div class="nav-item nav-dropdown-menu">
    <details>
      <summary>
        <span
           class="nav-link ">
           welcome to the mysterious messenger wiki!
        </span>
      </summary>
      <ul>
        
          <li class="nav-link">
            <a href="../Home.html">
                Introduction
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Changelog.html">
                Full Changelog
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Credits-and-Acknowledgements.html">
                Credits and Acknowledgements
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Useful-Built-in-Features.html">
                Useful Built-in Features
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Beginners-Guide.html">
                Beginner’s Guide
            </a>
          </li>
        
      </ul>
    </details>
  </div>



    </div>
  </div>
  
</header>

      
      <table role="none" id="main_layout_table">
        <thead>
          <tr><th><div id="layout_header">
          </div></th></tr>
        </thead>
        <tbody><tr><td>
          <div id="appflex">
            
              <div class="sidebar" id="sidebar">
                
                <nav class="nav-links can-hide">
                  

  <div class="nav-item nav-dropdown-menu">
    <details>
      <summary>
        <span
           class="nav-link ">
           welcome to the mysterious messenger wiki!
        </span>
      </summary>
      <ul>
        
          <li class="nav-link">
            <a href="../Home.html">
                Introduction
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Changelog.html">
                Full Changelog
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Credits-and-Acknowledgements.html">
                Credits and Acknowledgements
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Useful-Built-in-Features.html">
                Useful Built-in Features
            </a>
          </li>
        
          <li class="nav-link">
            <a href="../Beginners-Guide.html">
                Beginner’s Guide
            </a>
          </li>
        
      </ul>
    </details>
  </div>



                  
                </nav>
<h3><a href="../index.html">Table of Contents</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Home.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Changelog.html">Full Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Credits-and-Acknowledgements.html">Credits and Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Useful-Built-in-Features.html">Useful Built-in Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Beginners-Guide.html">Beginner’s Guide</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/old_documentation/Adding-or-Removing-CG-Albums.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
              </div>
            

            <div class="page">
                <nav class="body-header">
  
  
  

  <ul class="page-nav no-print">
</ul>
  
</nav>
                <main class="content">
                  
  <div class="section" id="adding-or-removing-cg-albums">
<h1>Adding or Removing CG Albums<a class="headerlink" href="#adding-or-removing-cg-albums" title="Permalink to this headline">¶</a></h1>
<p>For the purposes of this tutorial, these examples will show how to add a character named Bob to the program.</p>
<p>First, go to <a class="reference external" href="https://github.com/shawna-p/mysterious-messenger/blob/master/game/gallery._album_definitionsrpy">gallery_album_definitions.rpy</a>. Here, you can define two images for Bob’s album. The first is the background for the label under the album icon. Under the heading <strong>Album Cover Images</strong> you will see several image definitions that look like <code class="docutils literal notranslate"><span class="pre">cg_label_ja</span></code> and <code class="docutils literal notranslate"><span class="pre">cg_label_common</span></code>. If you want a custom label for Bob’s album, define an image here e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">cg_label_b</span> <span class="o">=</span> <span class="s2">&quot;CGs/label_bg_b.png&quot;</span>
</pre></div>
</div>
<p>Next, a little further down, there are image definitions for the album covers such as <code class="docutils literal notranslate"><span class="pre">ja_album_cover</span></code> and <code class="docutils literal notranslate"><span class="pre">common_album_cover</span></code>. In-game these images are 157x138 pixels and are typically a picture of the character. Define an image here for Bob’s album e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">b_album_cover</span> <span class="o">=</span> <span class="s2">&quot;CGs/b_album_cover.png&quot;</span>
</pre></div>
</div>
<p>Then under the heading <strong>Album Declarations</strong> you will see a list of definitions that begin with <code class="docutils literal notranslate"><span class="pre">default</span> <span class="pre">persistent.</span></code> and a list of identical definitions without the <code class="docutils literal notranslate"><span class="pre">persistent.</span></code> prefix. In order to make the albums expandable, you need to define one of each for a new album.</p>
<p>To define albums for Bob, add the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">persistent</span><span class="o">.</span><span class="n">b_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>under the persistent definitions, and then add</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">b_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
<p>under the regular definitions. The name of this album should be the ChatCharacters’s file_id + “_album”, so for Bob it is <code class="docutils literal notranslate"><span class="pre">b_album</span></code>.</p>
<p>Next, in the definition for <code class="docutils literal notranslate"><span class="pre">all_albums</span></code>, you need to add Bob’s file_id e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">all_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ju&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span>
<span class="p">]</span>
</pre></div>
</div>
<p>This will ensure Bob’s album stays up-to-date if you add images to it.</p>
<p>If you’ve set everything up with the correct names, Bob should now have a working album when you click the Album button from the chat home screen. See <a class="reference internal" href="Showing-CGs.html"><span class="doc">Showing CGs</span></a> for more information on adding CGs to the album and showing them in-game.</p>
<div class="section" id="albums-not-associated-with-characters">
<h2>Albums not associated with characters<a class="headerlink" href="#albums-not-associated-with-characters" title="Permalink to this headline">¶</a></h2>
<p>If you want an album not associated with a character, there are some naming conventions you must follow so the program can find the correct files.</p>
<p>For example, if you want to add a “New Year’s” album, you must do the following:</p>
<ol class="simple">
<li><p>Add “new year’s” to the <code class="docutils literal notranslate"><span class="pre">all_albums</span></code> definition. Capitalization doesn’t matter, but note the use of double quotes (“) instead of single so you don’t have to escape the apostrophe.</p></li>
</ol>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">default</span> <span class="n">all_albums</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;ju&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">,</span> <span class="s1">&#39;s&#39;</span><span class="p">,</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;ja&#39;</span><span class="p">,</span> <span class="s1">&#39;v&#39;</span><span class="p">,</span> <span class="s1">&#39;u&#39;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="s1">&#39;common&#39;</span><span class="p">,</span> <span class="s2">&quot;new year&#39;s&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<ol class="simple">
<li><p>Define your images as mentioned above using a certain naming scheme:</p>
<ol class="simple">
<li><p>Spaces will be turned into underscores</p></li>
<li><p>Apostrophes will be removed</p></li>
<li><p>Entire definition is in lowercase</p></li>
</ol>
</li>
</ol>
<p>So, your images for the “New Year’s” will be found under <code class="docutils literal notranslate"><span class="pre">new_years</span></code> like Bob’s was found under <code class="docutils literal notranslate"><span class="pre">b</span></code>:</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">image</span> <span class="n">cg_label_new_years</span> <span class="o">=</span> <span class="s2">&quot;Image for your label.png&quot;</span>
<span class="k">image</span> <span class="n">new_years_album_cover</span> <span class="o">=</span> <span class="s2">&quot;Image for your album cover.png&quot;</span>
<span class="k">default</span> <span class="n">persistent</span><span class="o">.</span><span class="n">new_years_album</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">default</span> <span class="n">new_years_album</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>
</div>
</div>
<div class="section" id="hiding-albums-until-unlocked">
<h2>Hiding Albums Until Unlocked<a class="headerlink" href="#hiding-albums-until-unlocked" title="Permalink to this headline">¶</a></h2>
<p>In some situations, you may want an album to not show up in the player’s photo album until they have unlocked an image contained in it. For example, if you include a New Year’s scenario, you may want to put related CGs in a New Year’s album, but if the player hasn’t unlocked or played through the New Year’s scenario, you don’t want the New Year’s album to show up in their photo album screen.</p>
<p>In this case, you can use the line</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>to hide this album unless the player has unlocked a photo in it. The best place to put this is just before setting up a new route e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">])</span>
<span class="k">$</span> <span class="n">new_route_setup</span><span class="p">(</span><span class="n">route</span><span class="o">=</span><span class="n">my_new_route</span><span class="p">)</span>
</pre></div>
</div>
<p>If the player has already unlocked images in this album, it will continue to be shown. Otherwise, this album will only appear in the player’s photo album once they have unlocked an image in it (this is taken care of automatically).</p>
<p>Note that since you are passing a list, you can pass multiple albums to be hidden e.g.</p>
<div class="highlight-renpy notranslate"><div class="highlight"><pre><span></span><span class="k">$</span> <span class="n">hide_albums</span><span class="p">([</span><span class="s2">&quot;new year&#39;s&quot;</span><span class="p">,</span> <span class="s2">&quot;christmas&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>

  
    <div class="section no-print">
    
      
    
    
    
    </div>
  

                </main><ul class="page-nav no-print">
</ul>
            </div>
          </div>
        </td></tr></tbody>
        <tfoot>
          <tr><th><div id="layout_footer">
          </div></th></tr>
        </tfoot>
      </table><footer class="footer" role="contentinfo">
  
    <p>
    
      &#169; Copyright 2020, Shawna P.
    
    </p>
  
  
    <p>
    
    
      Licensed under .
    
    
    </p>
  
  
    <p>
  
  
  
    Created using <a
        href="http://sphinx-doc.org/">Sphinx</a> 3.2.1 with
    <a href="https://www.nerv-project.eu">Nerv Project theme</a>
    based on <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>
    and <a href="https://ablog.readthedocs.io/">ABlog</a>.</p>
  
  <div class="pagecount"></div>
</footer>
    </div>
    
    
  </body>
</html>